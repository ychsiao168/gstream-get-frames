#===============================================================================
#  Description:
#  Author:
#===============================================================================
#===============================================================================
#  TOOL CHAIN and SHELL TOOL
#===============================================================================
CC = gcc
LD = $(CC)
AR = ar rc
RM = rm -f
#===============================================================================
#  CFLAGS, LDFLAGS
#===============================================================================
OPT= -O2
CFLAGS=-Wall -I$(srcdir) $(OPT) -pthread -I/usr/include/gstreamer-1.0 -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include
LDFLAGS=-s
LDLIBS=-lgstreamer-1.0 -lgobject-2.0 -lglib-2.0
#===============================================================================
#  OBJS and Output
#===============================================================================
OUTPUT1 = main
OBJS = \
          main.o
#===============================================================================
#  Compiling rules
#===============================================================================
%.o : %.c
	@echo Compiling $< ...
	@$(CC) $(CFLAGS) -c -o $@ $<
%.o : %.c %.h
	@echo Compiling $< ...
	@$(CC) $(CFLAGS) -c -o $@ $<
#===============================================================================
#  Targets
#===============================================================================
all: all-before $(OUTPUT1) all-after
$(OUTPUT1): $(OBJS)
	@echo Linking $@
	@$(LD) -o $@ $^ $(LDFLAGS) $(LDLIBS)
     
clean:
	@$(RM) $(OBJS) $(OUTPUT1)
     
all-before:
	@clear
     
all-after:
	@echo Done @ $$(date)
